From e2fc65afc8b89106827939d6028e5505eaea6b1c Mon Sep 17 00:00:00 2001
From: Noah Lorang <noah@noahhl.com>
Date: Sun, 26 Jun 2011 08:38:08 -0400
Subject: [PATCH 1/4] Explicitly require socket for client

---
 lib/statsd.rb |    5 ++---
 1 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/lib/statsd.rb b/lib/statsd.rb
index 75027c3..ffbb0aa 100644
--- a/lib/statsd.rb
+++ b/lib/statsd.rb
@@ -1,3 +1,4 @@
+require 'socket'
 # encoding: utf-8
 module Statsd
 
@@ -65,12 +66,10 @@ module Statsd
       rescue Exception => e # silent but deadly
         puts e.message
       ensure
-        sock.try(:close)
+        sock.close
       end
       true
     end
-    
-  
   end
 end 
 
-- 
1.7.4.5

